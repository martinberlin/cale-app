<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="Content-Security-Policy"
          content="default-src * gap:; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src *; img-src * data: blob: android-webview-video-poster:; style-src * 'unsafe-inline';media-src * blob:;">
    <meta name="format-detection" content="telephone=no">
    <meta name="msapplication-tap-highlight" content="no">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>CALE</title>
    <link rel="stylesheet" type="text/css" href="./css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="./css/style-chromeapp.css">
</head>

<body style="background: none transparent;height:100%">
<form id="main-form">
    <div class="container" id="container" style="background: white">
        <div class="row" style="background: white">
            <div class="col-md-12">
                <div class="row">
                    <div class="col-xs-6">
                        <img id="cale_logo" src="./assets/cale-logo.svg">
                    </div>
                    <div class="col-xs-6 text-right">
                        <a href="https://cale.es/backend"><img id="cale_es" src="./assets/cale-es.svg"></a>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 col-xs-12" id="settings-container" style="background: white">
                    <ul class="nav nav-tabs" role="tablist" id="cale-tab">
                        <li role="presentation" class="active">
                            <a href="#bt" id="ble-tab" role="tab" data-toggle="tab" aria-controls="bt"><small><img width="12" src="./assets/svg/blue.svg">Blue</small></a>
                        </li>
                        <li role="presentation">
                            <a href="#wt" id="wt-tab" role="tab" data-toggle="tab" aria-controls="wt"><small>Config</small></a>
                        </li>
                        <li role="presentation">
                            <a href="#qr" id="qr-tab" role="tab" data-toggle="tab" aria-controls="qr"><small>Api</small></a>
                        </li>
                        <li role="presentation">
                            <a href="#in" id="in-tab" role="tab" data-toggle="tab" aria-controls="in"><small>Info</small></a>
                        </li>
                    </ul>

                    <div class="tab-content">
                        <div role="tabpanel" class="tab-pane active" id="bt" aria-labelledby="bt-tab" style="background-color:white">

                            <div class="form-group row">
                                <div class="col-xs-12" style="margin-top:0.8em" id="ble_msg">
                                Please turn on Bluetooth
                                </div>

                            </div>
                            <div class="form-group row">
                                <div class="col-xs-3">Paired:</div>
                                <div class="col-xs-9" id="device_list_paired">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-3">Unpaired:
                                    <div id="preload_ble">
                                        <img src="./assets/preload.gif"><br><small style="font-size:8px">be patient</small>
                                    </div>
                                </div>
                                <div class="col-xs-9" id="device_list_unpaired">
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-3" id="ble_msg_foot">
                                </div>
                            </div>
                        </div>

                        <div role="tabpanel" class="tab-pane" id="wt" aria-labelledby="wt-tab" style="background-color:white">
                            <div class="form-group row">
                                <div class="col-md-2 col-xs-2"></div>
                                <div class="col-md-2 col-xs-2 text-center invisible" id="wifi_pre">
                                    <img src="assets/preload.gif">
                                </div>
                                <div class="col-md-8 col-xs-8" id="wifi_msg"></div>
                            </div>

                            <div class="form-group row">
                                <div class="col-xs-12">

                                    <label for="json_config">JSON Configuration</label>
                                    <textarea id="json_config" rows="6" name="json_config" class="form-control" required></textarea>

                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-12 form-check">
                                    <input id="wifi_store" name="wifi_store" type="checkbox" class="form-check-input">
                                    <label for="wifi_store" class="form-check-label">Store config in local storage</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-warning" id="ble_reset">Reset ESP32</button>
                                </div>
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-primary" id="ble_set_config">Send config</button>
                                </div>
                            </div>
                            <!--<div class="form-group row">
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-danger" id="ble_erase">Erase config</button>
                                </div>
                            </div>-->
                            <div class="form-group row">
                                <div class="col-xs-12" id="wifi_foot_msg">
                                </div>
                            </div>
                        </div>
                        <div role="tabpanel" class="tab-pane" id="qr" aria-labelledby="qr-tab">
                           Please scan the QR code that you can see in CALE backend<br>
                            <b>User &gt; My Api QR code</b><br>

                            <label for="apikey">API Key</label>
                            <input type="text" name="apikey" id="apikey" class="form-control">
                            <div class="row">
                                <div class="col-xs-6">
                                <button class="form-control btn btn-primary" id="qr_scan">Scan QR Code</button>
                                </div>
                                <div class="col-xs-6">
                                    <button class="form-control btn btn-default" id="qr_stop">Stop scan</button>
                                </div>
                            </div>
                        </div>

                        <div role="tabpanel" class="tab-pane" id="in" aria-labelledby="in-tab" style="background-color:white">
                            CALE app let's you configure your display WiFi and Screens. Register in
                            <a href="https://cale.es">CALE.es</a> to generate dynamic Screens.
                            <div class="col-xs-12 video-container">
                                <video id="video" class="video" src="./video/1.mp4" poster="./video/t5.jpg" controls></video>
                            </div>
                            <small>support@cale.es | <a href="https://github.com/martinberlin/cale-app/issues">Report a bug</a></small><br>
                            <div id="version" style="font-size:0.8em"></div>
                        </div>

                    </div>
            </div>
        </div>
        </div>
    </form>
        <script src="cordova.js"></script>
        <script src="js/bootstrap-native.js"></script>
        <script src="js/app.js"></script>
</body>

</html>
